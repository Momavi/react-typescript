(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{22:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(4),a=n.n(r),c=n(10),s=n(2),u=n(6),i="SET_USER_DATA",o={usersId:null,email:null,login:null,isFetching:!1,isAuth:!1};var l=function(e,t,n){return{type:i,data:{userId:e,email:t,login:n}}},d=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,c=r.id,s=r.login,i=r.email,t(l(c,i,s)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.b.LoginUser(e,t,n);case 2:0===r.sent.data.resultCode&&c(d());case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(s.a)(Object(s.a)(Object(s.a)({},e),t.data),{},{isAuth:!0});default:return e}}},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return x})),n.d(t,"e",(function(){return C}));var r=n(4),a=n.n(r),c=n(10),s=n(14),u=n(2),i=n(6),o="ADD-POST",l="UPDATE-NEW-POST-TEXT",d="SET_USER_PROFILE",f="SET_STATUS",p="DELETE_POST",j="SAVE_PHOTO_SUCCESS",b={posts:[{id:1,message:"Hi, how are you",likesCounter:4},{id:2,message:"Its my first post",likesCounter:7},{id:3,message:"Mda kak ze mnogo koda i papok",likesCounter:104},{id:4,message:"Mda kak ze mnogo koda i papok",likesCounter:104}],profile:null,status:""},h=function(){return{type:o}},O=function(e){return{type:f,status:e}},g=function(e){return{type:l,newText:e}},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:d,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.getStatus(e);case 2:r=t.sent,i.c.getStatus(e),n(O(r.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.c.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(O(e)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n((a=r.data.data.photos,{type:j,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n={id:5,message:e.newPostText,likesCounter:0};return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n]),newPostText:""});case l:return Object(u.a)(Object(u.a)({},e),{},{newPostText:t.newText});case d:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case f:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case p:return Object(u.a)(Object(u.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case j:return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.photos})});default:return e}}},35:function(e,t,n){"use strict";var r=n.p+"static/media/preloader.a9c647ed.svg",a=n(1);t.a=function(e){return Object(a.jsx)("img",{src:r,alt:"preloader"})}},46:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(14),a=n(2),c="SEND-MESSAGE",s="UPDATE-NEW-MESSAGE-BODY",u={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Valera"},{id:6,name:"Viktor"}],messages:[{id:1,message:"Hi"},{id:2,message:"Who are you"},{id:3,message:"Hi v2"}],newMessageBody:"dadsdas"},i=function(){return{type:c}},o=function(e){return{type:s,body:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=e.newMessageBody;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:5,message:n}]),newMessageBody:""});case s:return Object(a.a)(Object(a.a)({},e),{},{newMessageBody:t.body});default:return e}}},47:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return _})),n.d(t,"f",(function(){return S}));var r=n(4),a=n.n(r),c=n(10),s=n(14),u=n(2),i=n(6),o=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(u.a)(Object(u.a)({},e),r):e}))},l="FOLLOW",d="UNFOLLOW",f="SET_USERS",p="SET_CURRENT_PAGE",j="SET_TOTAL_USERS_COUNT",b="TOGGLE_IS_FETCHING",h="TOGGLE_IS_FOLLOWING_PROGRESS",O={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgess:[2,3,4,5]};var g=function(e){return{type:l,userId:e}},v=function(e){return{type:d,userId:e}},m=function(e){return{type:p,currentPage:e}},x=function(e){return{type:b,isFetching:e}},C=function(e,t){return{type:h,isFetching:e,userId:t}},w=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(!0)),r(m(e)),n.next=4,i.d.getUserStatus(e,t);case 4:c=n.sent,r(x(!1)),r((s=c.items,{type:f,users:s})),r((a=c.totalCount,{type:j,count:a}));case 8:case"end":return n.stop()}var a,s}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(C(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(c(n)),t(C(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),_=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(n,e,i.d.follow.bind(i.d),g);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(n,e,i.d.unFollow.bind(i.d),v);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(u.a)(Object(u.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!0})});case d:return Object(u.a)(Object(u.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!1})});case f:return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case p:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case j:return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:1e4});case b:return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});case h:return Object(u.a)(Object(u.a)({},e),{},{followingInProgess:t.isFetching?[].concat(Object(s.a)(e.followingInProgess),[t.userId]):e.followingInProgess.filter((function(e){return e!==t.userId}))});default:return e}}},58:function(e,t,n){},6:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return i}));var r=n(48),a=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"dc378807-51a9-479c-923e-ebe2bd7b72c2"}}),c={getUserStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e))},unFollow:function(e){return a.delete("follow/".concat(e))},getProfile:function(e){return s.getProfile(e)}},s={getProfile:function(e){return a.get("profile/"+e)},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},u={me:function(){return a.get("auth/me")}},i={LoginUser:function(e,t,n){return a.post("auth/login",{email:e,password:t,rememberMe:n})}}},60:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n.n(r),c=n(18),s=n(13),u=n(0),i=n.n(u),o=n(5),l=(n(58),n(35)),d=n(2),f=n(28),p=n(29),j=n(30),b=n(31),h=n(1);var O=function(e){return Object(h.jsxs)("svg",{width:"81",height:"24",viewBox:"0 0 81 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("path",{d:"M10.15 1.76007H14.02L23.26 23.0001H17.98L16.15 18.5001H7.89997L6.12997 23.0001H0.969971L10.15 1.76007ZM11.95 7.94007L9.36997 14.5401H14.56L11.95 7.94007Z",fill:"#01996D"}),Object(h.jsx)("path",{d:"M24.8863 0.320068H29.3863V23.0001H24.8863V0.320068Z",fill:"#01996D"}),Object(h.jsx)("path",{d:"M32.6793 8.42007H37.1793V23.0001H32.6793V8.42007ZM32.3193 3.83007C32.3193 3.11007 32.5693 2.50007 33.0693 2.00007C33.5893 1.48007 34.2093 1.22007 34.9293 1.22007C35.6493 1.22007 36.2593 1.48007 36.7593 2.00007C37.2793 2.50007 37.5393 3.11007 37.5393 3.83007C37.5393 4.55007 37.2793 5.17007 36.7593 5.69007C36.2593 6.19007 35.6493 6.44007 34.9293 6.44007C34.2093 6.44007 33.5893 6.19007 33.0693 5.69007C32.5693 5.17007 32.3193 4.55007 32.3193 3.83007Z",fill:"#01996D"}),Object(h.jsx)("path",{d:"M38.8822 8.42007H43.7422L47.4322 18.3201H47.4922L50.9122 8.42007H55.4422L49.6822 23.0001H44.9122L38.8822 8.42007Z",fill:"#01996D"}),Object(h.jsx)("path",{d:"M57.1422 8.42007H61.6422V23.0001H57.1422V8.42007ZM56.7822 3.83007C56.7822 3.11007 57.0322 2.50007 57.5322 2.00007C58.0522 1.48007 58.6722 1.22007 59.3922 1.22007C60.1122 1.22007 60.7222 1.48007 61.2222 2.00007C61.7422 2.50007 62.0022 3.11007 62.0022 3.83007C62.0022 4.55007 61.7422 5.17007 61.2222 5.69007C60.7222 6.19007 60.1122 6.44007 59.3922 6.44007C58.6722 6.44007 58.0522 6.19007 57.5322 5.69007C57.0322 5.17007 56.7822 4.55007 56.7822 3.83007Z",fill:"#01996D"}),Object(h.jsx)("path",{d:"M64.3351 15.7101C64.3351 14.5501 64.5451 13.5001 64.9651 12.5601C65.3851 11.6201 65.9551 10.8201 66.6751 10.1601C67.4151 9.48007 68.2751 8.96007 69.2551 8.60007C70.2551 8.24007 71.3151 8.06007 72.4351 8.06007C73.5551 8.06007 74.6051 8.24007 75.5851 8.60007C76.5851 8.96007 77.4451 9.48007 78.1651 10.1601C78.9051 10.8201 79.4851 11.6201 79.9051 12.5601C80.3251 13.5001 80.5351 14.5501 80.5351 15.7101C80.5351 16.8701 80.3251 17.9201 79.9051 18.8601C79.4851 19.8001 78.9051 20.6101 78.1651 21.2901C77.4451 21.9501 76.5851 22.4601 75.5851 22.8201C74.6051 23.1801 73.5551 23.3601 72.4351 23.3601C71.3151 23.3601 70.2551 23.1801 69.2551 22.8201C68.2751 22.4601 67.4151 21.9501 66.6751 21.2901C65.9551 20.6101 65.3851 19.8001 64.9651 18.8601C64.5451 17.9201 64.3351 16.8701 64.3351 15.7101ZM68.8351 15.7101C68.8351 16.8101 69.1451 17.7001 69.7651 18.3801C70.4051 19.0601 71.2951 19.4001 72.4351 19.4001C73.5751 19.4001 74.4551 19.0601 75.0751 18.3801C75.7151 17.7001 76.0351 16.8101 76.0351 15.7101C76.0351 14.6101 75.7151 13.7201 75.0751 13.0401C74.4551 12.3601 73.5751 12.0201 72.4351 12.0201C71.2951 12.0201 70.4051 12.3601 69.7651 13.0401C69.1451 13.7201 68.8351 14.6101 68.8351 15.7101Z",fill:"#01996D"})]})};n(60);var g=function(e){return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)(O,{}),Object(h.jsx)("div",{className:"header__inner",children:Object(h.jsx)("div",{className:"header__login",children:e.isAuth?e.login:Object(h.jsx)(s.b,{className:"header__login-link",to:"/login",children:"Login"})})})]})},v=n(22),m=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return Object(h.jsx)(g,Object(d.a)({},this.props))}}]),n}(i.a.Component),x=Object(c.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getAuthUserData:v.c})(m);n(81);var C=function(){return Object(h.jsx)("nav",{className:"nav",id:"nav",children:Object(h.jsxs)("ul",{className:"nav__item",children:[Object(h.jsx)("li",{className:"nav__item-li",children:Object(h.jsx)(s.b,{className:"nav__item-li-link",to:"/profile",children:"Profile"})}),Object(h.jsx)("li",{className:"nav__item-li",children:Object(h.jsx)(s.b,{className:"nav__item-li-link",to:"/dialogs",children:"Messages"})}),Object(h.jsx)("li",{className:"nav__item-li",children:Object(h.jsx)(s.b,{className:"nav__item-li-link",to:"/users",children:"Users"})}),Object(h.jsx)("li",{className:"nav__item-li",children:Object(h.jsx)(s.b,{className:"nav__item-li-link",to:"/news",children:"News"})}),Object(h.jsx)("li",{className:"nav__item-li",children:Object(h.jsx)(s.b,{className:"nav__item-li-link",to:"/settings",children:"Settings"})})]})})},w=i.a.lazy((function(){return n.e(4).then(n.bind(null,248))})),y=i.a.lazy((function(){return n.e(6).then(n.bind(null,250))})),_=i.a.lazy((function(){return n.e(5).then(n.bind(null,249))})),S=i.a.lazy((function(){return Promise.all([n.e(2),n.e(7)]).then(n.bind(null,251))}));var k=function(e){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(x,{}),Object(h.jsx)(C,{}),Object(h.jsx)(u.Suspense,{fallback:Object(h.jsx)(l.a,{}),children:Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)(o.b,{path:"/profile/:userId?",render:function(){return Object(h.jsx)(w,{})}}),Object(h.jsx)(o.b,{path:"/dialogs",render:function(){return Object(h.jsx)(y,{})}}),Object(h.jsx)(o.b,{path:"/users",render:function(){return Object(h.jsx)(_,{})}}),Object(h.jsx)(o.b,{path:"/login",render:function(){return Object(h.jsx)(S,{})}})]})})]})},E=(n(82),n(19)),P=n(46),T=n(34),N=n(47),L=n(49),I=Object(E.b)({profilePage:T.b,dialogsPage:P.a,usersPage:N.a,auth:v.b}),A=Object(E.d)(I,Object(E.a)(L.a));a.a.render(Object(h.jsx)(s.a,{children:Object(h.jsx)(c.a,{store:A,children:Object(h.jsx)(k,{})})}),document.getElementById("root"))}},[[83,1,3]]]);
//# sourceMappingURL=main.109e41b1.chunk.js.map