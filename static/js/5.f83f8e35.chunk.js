(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[5],{139:function(e,t,n){},249:function(e,t,n){"use strict";n.r(t);var r=n(28),s=n(29),o=n(30),i=n(31),a=n(0),c=n.n(a),l=n(18),u=n(47),f=function(e){return e.usersPage.users},g=function(e){return e.usersPage.pageSize},d=function(e){return e.usersPage.totalUsersCount},j=function(e){return e.usersPage.currentPage},h=function(e){return e.usersPage.isFetching},p=function(e){return e.usersPage.followingInProgess};function b(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}n(139);var v=n(88),O=n(1),m=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,s=e.onPageChanged,o=e.portionSize,i=void 0===o?10:o,c=Math.ceil(t/n),l=[],u=1;u<=c;u++)l.push(u);var f=Math.ceil(c/i),g=Object(a.useState)(1),d=Object(v.a)(g,2),j=d[0],h=d[1],p=(j-1)*i+1,b=j*i;return Object(O.jsxs)("ul",{className:"users__counter",children:[j>1&&Object(O.jsx)("button",{onClick:function(){h(j-1)},children:"PREV"}),l.filter((function(e){return e>=p&&e<=b})).map((function(e){return Object(O.jsx)("li",{className:r===e&&"active",onClick:function(t){s(e)},children:e},e)})),f>j&&Object(O.jsx)("button",{onClick:function(){h(j+1)},children:"NEXT"})]})},P=n(13),w=n(92),x=function(e){var t=e.user,n=e.followingInProgess,r=e.unfollow,s=e.follow;return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"users__wrapper",children:Object(O.jsxs)("div",{className:"users__inner",children:[Object(O.jsxs)("div",{className:"users__avatar",children:[Object(O.jsx)("div",{children:Object(O.jsx)(P.b,{to:"profile/"+t.id,children:Object(O.jsx)("img",{className:"users__avatar-img",src:null!=t.photos.small?t.photos.small:w.a,alt:"preloader"})})}),Object(O.jsx)("div",{children:t.followed?Object(O.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:"users__avatar-button btn",onClick:function(){r(t.id)},children:"Unfollow"}):Object(O.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:"users__avatar-button btn",onClick:function(){s(t.id)},children:"Follow"})})]}),Object(O.jsxs)("div",{className:"users__name",children:[Object(O.jsx)("div",{className:"users__name-name",children:t.name}),Object(O.jsx)("div",{className:"users__name-status",children:t.status})]}),Object(O.jsxs)("div",{className:"users__location",children:[Object(O.jsx)("div",{className:"users__location-country",children:"u.location.country"}),Object(O.jsx)("div",{className:"users__location-city",children:"u.location.city"})]})]})})},t.id)};var y=function(e){var t=e.currentPage,n=e.onPageChanged,r=e.totalUsersCount,s=e.pageSize,o=e.users,i=e.isFetching,a=b(e,["currentPage","onPageChanged","totalUsersCount","pageSize","users","isFetching"]);return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"users",children:[Object(O.jsx)("h3",{className:"users__title",children:"Users"}),Object(O.jsx)("div",{className:"users__overflow",children:Object(O.jsx)(m,{currentPage:t,onPageChanged:n,totalItemsCount:r,pageSize:s})}),i?null:o.map((function(e){return Object(O.jsx)(x,{user:e,followingInProgess:a.followingInProgess,unfollow:a.unfollow,follow:a.follow},e.id)}))]})})},_=n(35),C=n(19),N=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[this.props.isFetching?Object(O.jsx)(_.a,{}):null,Object(O.jsx)(y,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,isFetching:this.props.isFetching,followingInProgess:this.props.followingInProgess})]})}}]),n}(c.a.Component);t.default=Object(C.c)(Object(l.b)((function(e){return{users:f(e),pageSize:g(e),totalUsersCount:d(e),currentPage:j(e),isFetching:h(e),followingInProgess:p(e)}}),{follow:u.b,unfollow:u.f,setCurrentPage:u.d,toggleFollowingProgress:u.e,getUsers:u.c}))(N)},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(32);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){s=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},92:function(e,t,n){"use strict";t.a=n.p+"static/media/avatar.1b930828.png"}}]);
//# sourceMappingURL=5.f83f8e35.chunk.js.map