{"version":3,"sources":["redux/auth-reducer.ts","redux/profile-reducer.ts","assets/preloader.svg","components/common/preloader/Preloader.tsx","redux/dialogs-reducer.ts","utilitis/object-helper.ts","redux/users-reducer.ts","api/api.js","components/common/logo/logo.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.tsx","App.tsx","redux/redux-store.ts","index.tsx"],"names":["SET_USER_DATA","initialtState","usersId","email","login","isFetching","isAuth","setAuthUserData","userId","type","data","getAuthUserData","dispatch","a","authAPI","me","response","resultCode","id","LoginUser","password","rememberMe","loginAPI","authReducer","state","action","ADD_POST","UPDATE_NEW_POST_TEXT","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","message","likesCounter","profile","status","addPostActionCreator","setStatus","updateNewPostTextActionCreator","text","newText","getUserProfile","usersAPI","getProfile","getStatus","profileAPI","updateStatus","savePhoto","file","photos","profileReducer","newPost","newPostText","filter","p","postId","Preloader","props","src","preloader","alt","SEND_MESSAGE","UPDATE_NEW_MESSAGE_BODY","dialogs","name","messages","newMessageBody","sendMessageCreator","updateNewMessageBodyCreator","body","dialogsReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","followingInProgess","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","getUsers","getUserStatus","totalCount","count","followUnFollowFlow","apiMethod","actionCreator","follow","bind","unfollow","unFollow","usersReducer","followed","instance","axios","withCredentials","baseURL","headers","get","then","post","delete","put","photoFile","formData","FormData","append","Logo","width","height","viewBox","fill","xmlns","d","Header","className","to","HeaderContainer","this","React","Component","connect","auth","Navbar","ProfileContainer","lazy","DialogsContainer","UsersContainer","LoginContainer","App","fallback","path","render","reducers","combineReducers","profilePage","dialogsPage","usersPage","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f8765f0f.chunk.js","sourcesContent":["import { authAPI, loginAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialtState = {\r\n  usersId: null,\r\n  email: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n};\r\n\r\nfunction authReducer(state = initialtState, action: { type: any; data: any; }) {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n        isAuth: true,\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId: any, email: any, login: any) => ({\r\n  type: SET_USER_DATA,\r\n  data: { userId, email, login }\r\n})\r\nexport const getAuthUserData = () => async (dispatch: any) => {\r\n  let response = await authAPI.me()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    let { id, login, email } = response.data.data;\r\n    dispatch(setAuthUserData(id, email, login));\r\n  }\r\n}\r\n\r\nexport const LoginUser = (email: any, password: any, rememberMe: any) => async (dispatch: any) => {\r\n  let response = await loginAPI.LoginUser(email, password, rememberMe)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  }\r\n}\r\n\r\nexport default authReducer;","import { profileAPI, usersAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialtState = {\r\n  posts: [\r\n    { id: 1, message: 'Hi, how are you', likesCounter: 4 },\r\n    { id: 2, message: 'Its my first post', likesCounter: 7 },\r\n    { id: 3, message: 'Mda kak ze mnogo koda i papok', likesCounter: 104 },\r\n    { id: 4, message: 'Mda kak ze mnogo koda i papok', likesCounter: 104 },\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n};\r\n\r\nexport const profileReducer = (state: any = initialtState, action: any) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: state.newPostText,\r\n        likesCounter: 0,\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: '',\r\n      };\r\n    }\r\n    case UPDATE_NEW_POST_TEXT: {\r\n      return {\r\n        ...state,\r\n        newPostText: action.newText,\r\n      };\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return { ...state, profile: action.profile }\r\n    }\r\n    case SET_STATUS: {\r\n      return { ...state, status: action.status };\r\n    }\r\n    case DELETE_POST: {\r\n      return { ...state, posts: state.posts.filter((p: any) => p.id !== action.postId) }\r\n    }\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = () => ({ type: ADD_POST })\r\nexport const setUserProfile = (profile: any) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status: any) => ({ type: SET_STATUS, status })\r\nexport const deletePost = (postId: number) => ({ type: DELETE_POST, postId })\r\nexport const savePhotoSuccess = (photos: number) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const updateNewPostTextActionCreator = (text: string) => {\r\n  return {\r\n    type: UPDATE_NEW_POST_TEXT,\r\n    newText: text,\r\n  }\r\n}\r\nexport const getUserProfile = (userId: any) => async (dispatch: any) => {\r\n  let response = await usersAPI.getProfile(userId)\r\n  dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId: any) => async (dispatch: any) => {\r\n  let response = await profileAPI.getStatus(userId)\r\n  profileAPI.getStatus(userId)\r\n  dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status: any) => async (dispatch: any) => {\r\n  try {\r\n    let response = await profileAPI.updateStatus(status);\r\n\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  } catch (error) {\r\n    //\r\n  }\r\n}\r\n\r\nexport const savePhoto = (file: any) => async (dispatch: any) => {\r\n  let response = await profileAPI.savePhoto(file)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(response.data.data.photos));\r\n  }\r\n}\r\nexport default profileReducer;\r\n","export default __webpack_public_path__ + \"static/media/preloader.a9c647ed.svg\";","import preloader from '../../../assets/preloader.svg'\r\n\r\nfunction Preloader(props: any) {\r\n  return (\r\n    <img src={preloader} alt=\"preloader\" />\r\n  )\r\n}\r\n\r\nexport default Preloader;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE-NEW-MESSAGE-BODY';\r\n\r\nlet initialtState = {\r\n  dialogs: [\r\n    { id: 1, name: 'Dimych' },\r\n    { id: 2, name: 'Andrey' },\r\n    { id: 3, name: 'Sveta' },\r\n    { id: 4, name: 'Sasha' },\r\n    { id: 5, name: 'Valera' },\r\n    { id: 6, name: 'Viktor' },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: 'Hi' },\r\n    { id: 2, message: 'Who are you' },\r\n    { id: 3, message: 'Hi v2' },\r\n  ],\r\n  newMessageBody: 'dadsdas'\r\n}\r\n\r\nconst dialogsReducer = (state: any = initialtState, action: any) => {\r\n\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body: string = state.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 5, message: body }],\r\n        newMessageBody: '',\r\n      };\r\n    case UPDATE_NEW_MESSAGE_BODY:\r\n      return {\r\n        ...state,\r\n        newMessageBody: action.body\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const sendMessageCreator = () => {\r\n  return {\r\n    type: SEND_MESSAGE,\r\n  }\r\n}\r\nexport const updateNewMessageBodyCreator = (text: string) => {\r\n  return {\r\n    type: UPDATE_NEW_MESSAGE_BODY,\r\n    body: text,\r\n  }\r\n}\r\nexport default dialogsReducer;\r\n","export const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\r\n  return items.map((u: any) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps }\r\n    }\r\n    return u;\r\n  })\r\n}","import { usersAPI } from \"./../api/api\";\r\nimport { updateObjectInArray } from \"../utilitis/object-helper\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialtState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgess: [2, 3, 4, 5],\r\n};\r\n\r\nfunction usersReducer(state: any = initialtState, action: any) {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', { followed: true })\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', { followed: false })\r\n      }\r\n    case SET_USERS: {\r\n      return { ...state, users: action.users }\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage }\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: 10000 }\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgess: action.isFetching\r\n          ? [...state.followingInProgess, action.userId]\r\n          : state.followingInProgess.filter((id: number) => id !== action.userId)\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const followSuccess = (userId: number) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId: number) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users: any) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage: number) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching: boolean) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const getUsers = (currentPage: any, pageSize: number | undefined) => {\r\n  return async (dispatch: any) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n\r\n    let data = await usersAPI.getUserStatus(currentPage, pageSize)\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n  }\r\n}\r\n\r\nconst followUnFollowFlow = async (dispatch: any, userId: any, apiMethod: any, actionCreator: any) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let response = await apiMethod(userId)\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId: any) => {\r\n  return async (dispatch: any) => {\r\n    followUnFollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.follow.bind(usersAPI),\r\n      followSuccess\r\n    );\r\n  }\r\n}\r\n\r\nexport const unfollow = (userId: any) => {\r\n  return async (dispatch: any) => {\r\n    followUnFollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.unFollow.bind(usersAPI),\r\n      unfollowSuccess\r\n    );\r\n  }\r\n}\r\n\r\nexport default usersReducer;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://arcane-oasis-15597.herokuapp.com/https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    \"API-KEY\": \"dc378807-51a9-479c-923e-ebe2bd7b72c2\",\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUserStatus(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => {\r\n        return response.data\r\n      });\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n  },\r\n  unFollow(userId) {\r\n    return instance.delete(`follow/${userId}`)\r\n  },\r\n  getProfile(userId) {\r\n    return profileAPI.getProfile(userId);\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status: status });\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    });\r\n  }\r\n}\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`)\r\n  }\r\n}\r\n\r\nexport const loginAPI = {\r\n  LoginUser(email, password, rememberMe) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe })\r\n  }\r\n}","function Logo(props: any) {\r\n  return(\r\n    <svg width=\"81\" height=\"24\" viewBox=\"0 0 81 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M10.15 1.76007H14.02L23.26 23.0001H17.98L16.15 18.5001H7.89997L6.12997 23.0001H0.969971L10.15 1.76007ZM11.95 7.94007L9.36997 14.5401H14.56L11.95 7.94007Z\" fill=\"#01996D\" />\r\n    <path d=\"M24.8863 0.320068H29.3863V23.0001H24.8863V0.320068Z\" fill=\"#01996D\" />\r\n    <path d=\"M32.6793 8.42007H37.1793V23.0001H32.6793V8.42007ZM32.3193 3.83007C32.3193 3.11007 32.5693 2.50007 33.0693 2.00007C33.5893 1.48007 34.2093 1.22007 34.9293 1.22007C35.6493 1.22007 36.2593 1.48007 36.7593 2.00007C37.2793 2.50007 37.5393 3.11007 37.5393 3.83007C37.5393 4.55007 37.2793 5.17007 36.7593 5.69007C36.2593 6.19007 35.6493 6.44007 34.9293 6.44007C34.2093 6.44007 33.5893 6.19007 33.0693 5.69007C32.5693 5.17007 32.3193 4.55007 32.3193 3.83007Z\" fill=\"#01996D\" />\r\n    <path d=\"M38.8822 8.42007H43.7422L47.4322 18.3201H47.4922L50.9122 8.42007H55.4422L49.6822 23.0001H44.9122L38.8822 8.42007Z\" fill=\"#01996D\" />\r\n    <path d=\"M57.1422 8.42007H61.6422V23.0001H57.1422V8.42007ZM56.7822 3.83007C56.7822 3.11007 57.0322 2.50007 57.5322 2.00007C58.0522 1.48007 58.6722 1.22007 59.3922 1.22007C60.1122 1.22007 60.7222 1.48007 61.2222 2.00007C61.7422 2.50007 62.0022 3.11007 62.0022 3.83007C62.0022 4.55007 61.7422 5.17007 61.2222 5.69007C60.7222 6.19007 60.1122 6.44007 59.3922 6.44007C58.6722 6.44007 58.0522 6.19007 57.5322 5.69007C57.0322 5.17007 56.7822 4.55007 56.7822 3.83007Z\" fill=\"#01996D\" />\r\n    <path d=\"M64.3351 15.7101C64.3351 14.5501 64.5451 13.5001 64.9651 12.5601C65.3851 11.6201 65.9551 10.8201 66.6751 10.1601C67.4151 9.48007 68.2751 8.96007 69.2551 8.60007C70.2551 8.24007 71.3151 8.06007 72.4351 8.06007C73.5551 8.06007 74.6051 8.24007 75.5851 8.60007C76.5851 8.96007 77.4451 9.48007 78.1651 10.1601C78.9051 10.8201 79.4851 11.6201 79.9051 12.5601C80.3251 13.5001 80.5351 14.5501 80.5351 15.7101C80.5351 16.8701 80.3251 17.9201 79.9051 18.8601C79.4851 19.8001 78.9051 20.6101 78.1651 21.2901C77.4451 21.9501 76.5851 22.4601 75.5851 22.8201C74.6051 23.1801 73.5551 23.3601 72.4351 23.3601C71.3151 23.3601 70.2551 23.1801 69.2551 22.8201C68.2751 22.4601 67.4151 21.9501 66.6751 21.2901C65.9551 20.6101 65.3851 19.8001 64.9651 18.8601C64.5451 17.9201 64.3351 16.8701 64.3351 15.7101ZM68.8351 15.7101C68.8351 16.8101 69.1451 17.7001 69.7651 18.3801C70.4051 19.0601 71.2951 19.4001 72.4351 19.4001C73.5751 19.4001 74.4551 19.0601 75.0751 18.3801C75.7151 17.7001 76.0351 16.8101 76.0351 15.7101C76.0351 14.6101 75.7151 13.7201 75.0751 13.0401C74.4551 12.3601 73.5751 12.0201 72.4351 12.0201C71.2951 12.0201 70.4051 12.3601 69.7651 13.0401C69.1451 13.7201 68.8351 14.6101 68.8351 15.7101Z\" fill=\"#01996D\" />\r\n  </svg>\r\n  )\r\n}\r\n\r\nexport default Logo;","import { NavLink } from 'react-router-dom';\r\nimport Logo from '../common/logo/logo';\r\nimport './Header.scss';\r\n\r\nfunction Header(props: any) {\r\n  return (\r\n    <header className=\"header\">\r\n      <Logo />\r\n      <div className=\"header__inner\">\r\n        <div className=\"header__login\" >\r\n\r\n          {\r\n            props.isAuth ? props.login\r\n              : <NavLink className=\"header__login-link\" to={'/login'}>Login</NavLink>\r\n          }\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </header>\r\n\r\n  );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from 'react-redux';\r\nimport { getAuthUserData } from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getAuthUserData();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Header {...this.props} />\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {getAuthUserData})(HeaderContainer);","import { NavLink } from 'react-router-dom';\r\n\r\nimport './Navbar.scss';\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <nav className=\"nav\" id=\"nav\">\r\n      <ul className=\"nav__item\">\r\n        <li className=\"nav__item-li\">\r\n          <NavLink className=\"nav__item-li-link\" to=\"/profile\">Profile</NavLink>\r\n        </li>\r\n        <li className=\"nav__item-li\">\r\n          <NavLink className=\"nav__item-li-link\" to=\"/dialogs\">Messages</NavLink>\r\n        </li>\r\n        <li className=\"nav__item-li\">\r\n          <NavLink className=\"nav__item-li-link\" to=\"/users\">Users</NavLink>\r\n        </li>\r\n        <li className=\"nav__item-li\">\r\n          <NavLink className=\"nav__item-li-link\" to=\"/news\">News</NavLink>\r\n        </li>\r\n        <li className=\"nav__item-li\">\r\n          <NavLink className=\"nav__item-li-link\" to=\"/settings\">Settings</NavLink>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import React, { Suspense } from 'react';\nimport { Route } from 'react-router-dom';\nimport './App.scss';\nimport Preloader from './components/common/preloader/Preloader';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst LoginContainer = React.lazy(() => import('./components/Login/LoginContainer'));\n\n\nfunction App(props: any) {\n  return (\n    <div className=\"App\">\n      <HeaderContainer />\n      <Navbar />\n      <Suspense fallback={<Preloader />}>\n        <div className=\"content\">\n          <Route path='/profile/:userId?'\n            render={() => <ProfileContainer />} />\n          <Route path='/dialogs'\n            render={() => <DialogsContainer />} />\n          <Route path='/users'\n            render={() => <UsersContainer />} />\n          <Route path='/login'\n            render={() => <LoginContainer />} />\n        </div>\n      </Suspense>\n    </div>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n})\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\nimport store from './redux/redux-store';\n\n\nReactDOM.render(\n\t<HashRouter>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</HashRouter>, document.getElementById('root')\n);\n\n"],"sourceRoot":""}