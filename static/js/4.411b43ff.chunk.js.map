{"version":3,"sources":["hoc/withAuthRedirect.js","assets/like.svg","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/avatar.png"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","Post","className","src","avatar","alt","message","href","likesCounter","like","MyPosts","memo","postsElements","posts","map","p","id","newPostElement","createRef","onChange","updateNewPostText","current","value","ref","newPostText","onClick","addPost","MyPostsContainer","profilePage","dispatch","text","action","updateNewPostTextActionCreator","addPostActionCreator","ProfileStatus","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","type","onBlur","updateStatus","e","currentTarget","ProfileInfo","profile","isOwner","savePhoto","photos","large","userPhoto","target","files","length","fullName","contacts","facebook","website","vk","twitter","instagram","github","Preloader","Profile","ProfileContainer","userId","match","params","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","compose","withRouter","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/4.411b43ff.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />;\r\n      return <Component {...this.props} />\r\n    }\r\n\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n  return ConnectedAuthRedirectComponent\r\n}","export default __webpack_public_path__ + \"static/media/like.3202d8c4.svg\";","import avatar from '../../../../assets/avatar.png';\r\nimport like from '../../../../assets/like.svg';\r\n\r\nfunction Post(props: { message: string, likesCounter: number }) {\r\n  return (\r\n    <div className=\"posts__wrapper\">\r\n      <div className=\"posts__item\">\r\n        <img className=\"posts__item-img\" src={avatar} alt=\"avatar\" />\r\n        <p className=\"posts__item-text\">{props.message}</p>\r\n      </div>\r\n      <div className=\"posts__social\">\r\n        <a className=\"posts__social-like\" href=\"#!\">\r\n          <span className=\"posts__social-like-counter\">{props.likesCounter}</span>\r\n          <img className=\"posts__social-like-link\" src={like} alt=\"like\" />\r\n        </a>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport './MyPosts.scss';\r\nimport Post from './Post/Post';\r\n\r\nconst MyPosts = React.memo((props: any) => {\r\n  let postsElements = props.posts.map((p: { message: string, likesCounter: number, id: number }) => <Post key={p.id} message={p.message} likesCounter={p.likesCounter} />);\r\n  let newPostElement: any = React.createRef();\r\n\r\n  let onAddPost = () => {\r\n    props.addPost();\r\n  }\r\n  let onPostChange = () => {\r\n    props.updateNewPostText(newPostElement.current.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>My posts</h3>\r\n      <div>\r\n        <div>\r\n          <textarea\r\n            className=\"posts__input\"\r\n            onChange={onPostChange}\r\n            ref={newPostElement}\r\n            value={props.newPostText} />\r\n        </div>\r\n        <div>\r\n          <button\r\n            className=\"posts__button btn\"\r\n            onClick={() => { onAddPost() }}>Add post</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"posts\">\r\n        {postsElements}\r\n      </div>\r\n    </div>\r\n  );\r\n})\r\n\r\nexport default MyPosts;\r\n","import { connect } from 'react-redux';\r\nimport { addPostActionCreator, updateNewPostTextActionCreator } from '../../../redux/profile-reducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nlet mapStateToProps = (state: any) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    updateNewPostText: (text: any) => {\r\n      let action = updateNewPostTextActionCreator(text);\r\n      dispatch(action);\r\n    },\r\n    addPost: () => {\r\n      dispatch(addPostActionCreator());\r\n    }\r\n  }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\nexport default MyPostsContainer;\r\n","import { useState, useEffect } from 'react';\r\nimport './ProfileInfo.scss'\r\n\r\nfunction ProfileStatus(props: any) {\r\n\r\n  const [editMode, setEditMode] = useState(false)\r\n  const [status, setStatus] = useState(props.status)\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status)\r\n  }, [props.status])\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deActivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  }\r\n\r\n  const onStatusChange = (e: any) => {\r\n    setStatus(e.currentTarget.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-info__status\">\r\n      <span className=\"profile-info__status-span\">Статус:\r\n        {!editMode &&\r\n          <div\r\n            className=\"profile-info__status-text\"\r\n            onClick={activateEditMode}>\r\n            {props.status || '-----'}\r\n          </div>\r\n        }\r\n        {editMode &&\r\n          <div>\r\n            <input\r\n              className=\"profile-info__status-input\"\r\n              autoFocus\r\n              type=\"text\"\r\n              onBlur={deActivateEditMode}\r\n              onChange={onStatusChange}\r\n              value={status} />\r\n          </div>}\r\n      </span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileStatus;","import Preloader from '../../common/preloader/Preloader';\r\nimport userPhoto from '../../../assets/avatar.png'\r\nimport ProfileStatus from './ProfileStatus'\r\n\r\nimport './ProfileInfo.scss'\r\n\r\nfunction ProfileInfo({ profile, status, updateStatus, isOwner, savePhoto }: any) {\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onMainPhotoSelected = (e: any) => {\r\n    if (e.target.files.length) {\r\n      savePhoto(e.target.files[0]);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"profile-info\">\r\n        <div className=\"profile-info__wrapper\">\r\n          <div className=\"profile-info__inner\">\r\n            <div className=\"profile-info__avatar\">\r\n              <img className=\"profile-info__avatar-img\" src={profile.photos.large || userPhoto} alt=\"\" />\r\n            </div>\r\n            {isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} />}\r\n            <div className=\"profile-info__description\">\r\n              <h3 className=\"profile-info__fullname\">{profile.fullName}</h3>\r\n            </div>\r\n            <ProfileStatus status={status} updateStatus={updateStatus} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"profile-info__contacts\">\r\n          <div>{profile.contacts.facebook || 'facebook: нету'}</div>\r\n          <div>{profile.contacts.website || 'website: нету'}</div>\r\n          <div>{profile.contacts.vk || 'vk: нету'}</div>\r\n          <div>{profile.contacts.twitter || 'twitter: нету'}</div>\r\n          <div>{profile.contacts.instagram || 'instagram: нету'}</div>\r\n          <div>{profile.contacts.github || 'github: нету'}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProfileInfo;","import MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nfunction Profile(props: any) {\r\n  return (\r\n    <div>\r\n      <ProfileInfo\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n        isOwner={props.isOwner}\r\n        savePhoto={props.savePhoto} />\r\n      <MyPostsContainer />\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getStatus, getUserProfile, updateStatus, savePhoto } from '../../redux/profile-reducer'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = 18398;\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getStatus(userId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        isOwner={!this.props.match.params.userId}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateStatus={this.props.updateStatus}\r\n        savePhoto={this.props.savePhoto} />\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto }),\r\n  withAuthRedirect,\r\n  withRouter,\r\n)(ProfileContainer);","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default __webpack_public_path__ + \"static/media/avatar.1b930828.png\";"],"sourceRoot":""}